webpackJsonp([3],{"+ItP":function(e,t){},"/CWQ":function(e,t){},"3yiP":function(e,t){},"5l9A":function(e,t){},"7Otq":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk2QkI4RkE3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk2QkI4Rjk3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzk3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyN0E3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WHowqAAAXNElEQVR42uxda4xd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"},DWhx:function(e,t){},"G/z3":function(e,t){},GUtS:function(e,t){},GzW3:function(e,t){},"H/op":function(e,t){},JQJD:function(e,t){},NHnr:function(e,t,a){"use strict";function n(e){a("Xm3Z")}function r(e){a("5l9A")}function l(e){a("GzW3")}function s(e){a("3yiP")}function o(e){a("zXHg")}function i(e){a("GUtS")}function c(e){a("oqt+")}function p(e){a("/CWQ")}function d(e){a("tbI+")}function u(e){a("DWhx")}function m(e){a("JQJD")}function g(e){a("w+KE")}function h(e){a("rJsN")}function f(e){a("G/z3")}function b(e){a("bFqp")}function v(e){a("+ItP")}function w(e){a("Nw5M")}Object.defineProperty(t,"__esModule",{value:!0});var y=a("rVsN"),I=a.n(y),C=a("5vqR"),S={name:"app"},x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},_=[],k={render:x,staticRenderFns:_},P=k,z=a("/Xao"),A=n,R=z(S,P,!1,A,null,null),N=R.exports,E=a("2sCs"),U=a.n(E),V=a("zO6J"),T=a("TIfe"),D={name:"home",data:function(){return{sysUserName:"",collapsed:!1,userInfo:{},rootPermission:[],childPermission:[]}},methods:{handleOpen:function(){},handleClose:function(){},permission:function(){var e=this,t=function(e,t){return!t.meta||!t.meta.role||(2===t.meta.role.length?t.meta.role.some(function(t){return t===e}):t.meta.role===e)};this.rootPermission=this.$router.options.routes.map(function(a){return t(e.userInfo.role,a)})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{}).then(function(){Object(T.b)(),sessionStorage.clear(),e.$router.push("/login")})}},mounted:function(){var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.sysUserName=e.name,this.userInfo=e),this.permission()}},G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"topbar-wrap",attrs:{span:24}},[n("div",{staticClass:"topbar-logo topbar-btn"},[n("a",{attrs:{href:"/"}},[n("img",{staticStyle:{"padding-left":"8px"},attrs:{src:a("7Otq")}})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"topbar-logos"},[n("a",{attrs:{href:"/"}},[n("img",{attrs:{src:""}})])]),e._v(" "),n("div",{staticClass:"topbar-title"},[n("span",{staticStyle:{"font-size":"18px",color:"#fff"}},[e._v("后台管理系统")])]),e._v(" "),n("div",{staticClass:"topbar-account topbar-btn"},[n("el-dropdown",{attrs:{trigger:"click"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[n("i",{staticClass:"iconfont icon-user"}),e._v(e._s(e.sysUserName)),n("i",{staticClass:"iconfont icon-down"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("router-link",{attrs:{to:"/dashboard"}},[n("span",{staticStyle:{color:"#555","font-size":"14px"}},[e._v("首页")])])],1),e._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)]),e._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("aside",{class:{showSidebar:!e.collapsed}},[n("div",{staticClass:"menu-toggle",on:{click:function(t){t.preventDefault(),e.collapse(t)}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"iconfont icon-menufold"}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"iconfont icon-menuunfold"})]),e._v(" "),n("el-menu",{attrs:{"default-active":"0","unique-opened":"",router:"",collapse:e.collapsed}},[e._l(e.$router.options.routes,function(t,a){return t.menuShow&&e.rootPermission[a]?[t.leaf?t.leaf&&t.children&&t.children.length?n("el-menu-item",{class:e.$route.path==t.children[0].path?"is-active":"",attrs:{index:t.children[0].path}},[n("i",{class:t.iconCls}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.children[0].name))])]):e._e():n("el-submenu",{attrs:{index:a+""}},[n("template",{slot:"title"},[n("i",{class:t.iconCls}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return t.menuShow?n("el-menu-item",{key:t.path,class:e.$route.path==t.path?"is-active":"",attrs:{index:t.path}},[n("i",{class:t.iconCls}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]):e._e()})],2)]:e._e()})],2)],1),e._v(" "),n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)])])],1)},M=[],O={render:G,staticRenderFns:M},$=O,F=a("/Xao"),L=r,J=F(D,$,!1,L,"data-v-8b781e9e",null),q=J.exports,W={name:"请输入商户名",channelType:"请输入通道类型",bailPercentage:"请输入费率"},Q={data:function(){return{userInfo:{id:"",account:"",name:"",role:""},formRecharge:{amount:"",channel:"",quota:0},result:{title:"",status:"",qrcode:"",icon:!1,closable:!1},storeId:"",intervalId:"",rechargeInfo:[],filter:{name:"",channelType:"",bailPercentage:"",pageSize:10,currentPage:1,beginIndex:0},totalRows:0,keywords:"",select:"name",placeholder:W.name,outerVisible:!1,innerVisible:!1}},created:function(){var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.userInfo.id=e.id,this.userInfo.account=e.account,this.userInfo.name=e.name,this.userInfo.role=e.role)},mounted:function(){var e=this;this.$http.get("http://www.wfpay.xyz/xpay/admin/"+this.userInfo.id+"/stores").then(function(t){t.data.data&&(t.data.data.forEach(function(e){"WECHAT"===e.channelType&&(e.channelType="微信公众号"),"ALIPAY"===e.channelType&&(e.channelType="支付宝"),"BANK"===e.channelType&&(e.channelType="银联快捷"),e.bailPercentage+="%",e.quota+="元",e.todayTradeAmount+="元",e.lastTradeAmount+="元",e.lastRechargeAmount+="元",e.dailyLimit+="元"}),e.rechargeInfo=t.data.data)})},methods:{tableSelectionChange:function(e){this.selected=e},searchFieldChange:function(e){this.select=e,this.placeholder=W[e],console.log("搜索字段： "+e+" ")},pageSizeChange:function(e){console.log("每页 "+e+" 条"),this.filter.pageSize=e,this.getStores()},pageCurrentChange:function(e){console.log("当前页: "+e),this.filter.currentPage=e,this.getStores()},getStores:function(){var e=this;this.loading=!0,this.$http.get("http://www.wfpay.xyz/xpay/admin/"+this.userInfo.id+"/stores").then(function(t){t.data.data&&(t.data.data.forEach(function(e){"WECHAT"===e.channelType&&(e.channelType="微信公众号"),"ALIPAY"===e.channelType&&(e.channelType="支付宝"),"BANK"===e.channelType&&(e.channelType="银联快捷"),e.bailPercentage+="%",e.quota+="元",e.todayTradeAmount+="元",e.dailyLimit+="元"}),e.stores=t.data.data);var a=[];if(""!==e.keywords)for(var n=0,r=e.stores.length;n<r;n++){var l=new RegExp(e.keywords);e.stores[n][e.select].toString().match(l)&&a.push(e.stores[n])}else a=e.stores;e.totalRows=a.length,e.filter.beginIndex=(e.filter.currentPage-1)*e.filter.pageSize,e.stores=a.splice(e.filter.beginIndex,e.filter.pageSize),e.loading=!1,e.selected.splice(0,e.selected.length)})},view:function(e){this.$refs.table.toggleRowExpansion(e)},handleRecharge:function(e){this.outerVisible=!0,this.storeId=e.id},validate:function(){var e=this,t=sessionStorage.getItem("transactionId");t&&this.$http.get("http://www.wfpay.xyz/xpay/admin/"+JSON.parse(sessionStorage.getItem("access-user")).id+"/transactions/"+t).then(function(t){if("SUCCESS"===t.data.data.status){clearInterval(e.intervalId),e.result.title="支付成功",e.result.status="success",e.formRecharge.quota=t.data.data.quota;var a={quota:t.data.data.quota,bailPercentage:t.data.data.bailPercentage};sessionStorage.setItem("profile",a)}console.log(t.data.data.status)})},recharge:function(){var e=this;if(!this.formRecharge.channel)return this.$message.error("请选择支付方式！"),!1;this.innerVisible=!0;var t=JSON.parse(sessionStorage.getItem("access-user")),a={amount:this.formRecharge.amount,channel:this.formRecharge.channel};this.$http.post("http://www.wfpay.xyz/xpay/admin/"+t.id+"/stores/"+this.storeId+"/recharge_order",a).then(function(t){e.result.qrcode="http://pan.baidu.com/share/qrcode?w=200&h=200&url="+t.data.data.codeUrl,e.result.closable=!0,e.result.icon=!0,e.result.title="请扫描二维码完成支付",e.result.status="info",sessionStorage.setItem("transactionId",t.data.data.transactionId),e.intervalId=setInterval(e.validate,1e4)})},destroy:function(){clearInterval(this.intervalId)}}},H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])])],1)],1),e._v(" "),"STORE"===e.userInfo.role?[a("el-col",{staticClass:"warp-main",attrs:{span:24}},[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-input",{staticStyle:{width:"25%"},attrs:{placeholder:e.placeholder},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[a("el-select",{staticClass:"sel-placeholder",staticStyle:{width:"130px"},attrs:{slot:"prepend"},on:{change:e.searchFieldChange},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[a("el-option",{attrs:{label:"商户名",value:"name"}}),e._v(" "),a("el-option",{attrs:{label:"通道类型",value:"channelType"}}),e._v(" "),a("el-option",{attrs:{label:"费率",value:"bailPercentage"}})],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getStores},slot:"append"},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.rechargeInfo,height:"680"},on:{"selection-change":e.tableSelectionChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"storeId"}},[a("span",[e._v(e._s(t.row.code))])]),e._v(" "),a("el-form-item",{attrs:{label:"appId"}},[a("span",[e._v(e._s(t.row.app.key))])]),e._v(" "),a("el-form-item",{attrs:{label:"appSecret"}},[a("span",[e._v(e._s(t.row.app.secret))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"channels[0].paymentGateway",label:"网关类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelType",label:"通道类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商户名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bailPercentage",sortable:"",label:"费率",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"quota",sortable:"",label:"剩余交易额度",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"todayTradeAmount",sortable:"",label:"今日交易额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lastTradeAmount",sortable:"",label:"昨日交易额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lastRechargeAmount",sortable:"",label:"最近一笔充值",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dailyLimit",sortable:"",label:"日交易额上限",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"handle",attrs:{size:"mini",type:"info",plain:""},on:{click:function(a){e.view(t.row)}}},[e._v("查看参数\n            ")]),e._v(" "),a("el-button",{staticClass:"handle",attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){e.handleRecharge(t.row)}}},[e._v("充值\n            ")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":e.filter.currentPage,"page-sizes":[10,20,50,100],"page-size":e.filter.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRows},on:{"size-change":e.pageSizeChange,"current-change":e.pageCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"充值",visible:e.outerVisible,width:"35%",center:""},on:{"update:visible":function(t){e.outerVisible=t}}},[a("el-form",{ref:"formRecharge",attrs:{model:e.formRecharge,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"充值金额"}},[a("el-input-number",{attrs:{min:100,step:100},model:{value:e.formRecharge.amount,callback:function(t){e.$set(e.formRecharge,"amount",t)},expression:"formRecharge.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付方式"}},[a("el-select",{attrs:{placeholder:"请选择支付方式"},model:{value:e.formRecharge.channel,callback:function(t){e.$set(e.formRecharge,"channel",t)},expression:"formRecharge.channel"}},[a("el-option",{attrs:{label:"支付宝",value:"ALIPAY"}}),e._v(" "),a("el-option",{attrs:{label:"微信",value:"WECHAT"}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"23%",title:"扫码支付",visible:e.innerVisible,center:"","append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t},close:e.destroy}},[a("img",{attrs:{src:e.result.qrcode}}),e._v(" "),a("el-alert",{attrs:{closable:e.result.closable,"show-icon":e.result.icon,title:e.result.title,type:e.result.status,center:""}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.outerVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.recharge}},[e._v("立即充值")])],1)],1)]:e._e()],2)},K=[],Z={render:H,staticRenderFns:K},Y=Z,B=a("/Xao"),X=l,j=B(Q,Y,!1,X,null,null),ee=j.exports,te={data:function(){return{formCreate:{account:"",password:"123456",name:"",agentId:15,storeId:268,role:""},agentsInfo:{},tempStoresInfo:{},rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],name:[{required:!0,message:"请输入用户名",trigger:"blur"}],role:[{required:!0,message:"请选择权限",trigger:"blur"}]}}},mounted:function(){this.agentsInfo=JSON.parse(sessionStorage.getItem("agentsInfo")),console.log(this.agentsInfo),""===this.formCreate.agentId&&(this.tempStoresInfo=JSON.parse(sessionStorage.getItem("storesInfo")),console.log(this.tempStoresInfo))},methods:{onSubmit:function(){var e=this;this.$refs.formCreate.validate(function(t){if(t){var a=JSON.parse(sessionStorage.getItem("access-user")).id;e.$http.put("http://www.wfpay.xyz/xpay/admin/"+a+"/",e.formCreate).then(function(){e.$message.success("创建成功！"),e.$refs.formCreate.resetFields()}).catch(function(){e.$message.error("创建失败！"),e.$refs.formCreate.resetFields()})}})},onChange:function(){var e=this,t=JSON.parse(sessionStorage.getItem("storesInfo"));this.tempStoresInfo=t.filter(function(t){if(e.formCreate.agentId===t[3])return t}),console.log(this.tempStoresInfo)}}},ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("系统管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("创建商户管理员")])],1)],1),e._v(" "),a("el-col",{staticClass:"warp-main",attrs:{span:22}},[a("el-form",{ref:"formCreate",attrs:{model:e.formCreate,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"account",label:"账号"}},[a("el-input",{model:{value:e.formCreate.account,callback:function(t){e.$set(e.formCreate,"account",t)},expression:"formCreate.account"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password",label:"密码"}},[a("el-input",{attrs:{type:"password",placeholder:"默认密码为123456"},model:{value:e.formCreate.password,callback:function(t){e.$set(e.formCreate,"password",t)},expression:"formCreate.password"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"name",label:"用户名"}},[a("el-input",{model:{value:e.formCreate.name,callback:function(t){e.$set(e.formCreate,"name",t)},expression:"formCreate.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"agentId",label:"代理商"}},[a("el-input",{model:{value:e.formCreate.agentId,callback:function(t){e.$set(e.formCreate,"agentId",t)},expression:"formCreate.agentId"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"storeId",label:"商户"}},[a("el-input",{model:{value:e.formCreate.storeId,callback:function(t){e.$set(e.formCreate,"storeId",t)},expression:"formCreate.storeId"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"role",label:"权限"}},[a("el-select",{attrs:{placeholder:"请选择用户权限"},model:{value:e.formCreate.role,callback:function(t){e.$set(e.formCreate,"role",t)},expression:"formCreate.role"}},[a("el-option",{attrs:{label:"代理商",value:"AGENT"}}),e._v(" "),a("el-option",{attrs:{label:"商户管理员",value:"STORE"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("创建商户管理员")])],1)],1)],1)],1)},ne=[],re={render:ae,staticRenderFns:ne},le=re,se=a("/Xao"),oe=s,ie=se(te,le,!1,oe,null,null),ce=(ie.exports,{data:function(){return{formEdit:{account:"",password:"",name:"",role:""},adminsInfo:{}}},mounted:function(){this.adminsInfo=JSON.parse(sessionStorage.getItem("adminsInfo"))},methods:{onSubmit:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access-user")).id;this.$http.patch("http://www.wfpay.xyz/xpay/admin/"+t+"/",this.formEdit).then(function(){e.$message.success("修改成功！"),e.$refs.formEdit.resetFields()}).catch(function(){e.$message.error("修改失败！"),e.$refs.formEdit.resetFields()})},onChange:function(){var e=this;this.adminsInfo.forEach(function(t){e.formEdit.name===t[3]&&(e.formEdit.account=t[1])})}}}),pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("系统管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("修改商户管理员信息")])],1)],1),e._v(" "),a("el-col",{staticClass:"warp-main",attrs:{span:22}},[a("el-form",{ref:"formEdit",attrs:{model:e.formEdit,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"account",label:"账号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formEdit.account,callback:function(t){e.$set(e.formEdit,"account",t)},expression:"formEdit.account"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password",label:"密码"}},[a("el-input",{model:{value:e.formEdit.password,callback:function(t){e.$set(e.formEdit,"password",t)},expression:"formEdit.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名"}},[a("el-select",{attrs:{placeholder:"请选择用户名"},on:{change:e.onChange},model:{value:e.formEdit.name,callback:function(t){e.$set(e.formEdit,"name",t)},expression:"formEdit.name"}},e._l(e.adminsInfo,function(e){return a("el-option",{key:e[0],attrs:{label:e[3],value:e[3]}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"role",label:"权限"}},[a("el-select",{attrs:{placeholder:"请选择用户权限"},model:{value:e.formEdit.role,callback:function(t){e.$set(e.formEdit,"role",t)},expression:"formEdit.role"}},[a("el-option",{attrs:{label:"代理商",value:"AGENT"}}),e._v(" "),a("el-option",{attrs:{label:"商户管理员",value:"STORE"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("修改信息")])],1)],1)],1)],1)},de=[],ue={render:pe,staticRenderFns:de},me=ue,ge=a("/Xao"),he=o,fe=ge(ce,me,!1,he,null,null),be=(fe.exports,{data:function(){return{formIncrease:{name:"",amount:"",transaction_type:""},storesInfo:{}}},mounted:function(){this.storesInfo=JSON.parse(sessionStorage.getItem("storesInfo")),console.log(this.storesInfo)},methods:{onSubmit:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access-user")).id;this.$http.post("http://www.wfpay.xyz/xpay/admin/"+t+"/stores/"+this.formIncrease.name+"/quota",this.formIncrease).then(function(){e.$message.success("增加额度成功！")}).catch(function(){e.$message.error("增加额度失败！")})}}}),ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("系统管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("增加商户额度")])],1)],1),e._v(" "),a("el-col",{staticClass:"warp-main",attrs:{span:24}},[a("el-form",{ref:"formIncrease",attrs:{model:e.formIncrease,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"增加额度"}},[a("el-input-number",{attrs:{min:100,step:100},model:{value:e.formIncrease.amount,callback:function(t){e.$set(e.formIncrease,"amount",t)},expression:"formIncrease.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名"}},[a("el-select",{attrs:{placeholder:"请选择商户名"},model:{value:e.formIncrease.name,callback:function(t){e.$set(e.formIncrease,"name",t)},expression:"formIncrease.name"}},e._l(e.storesInfo,function(e){return a("el-option",{key:e[0],attrs:{label:e[1],value:e[0]}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"交易类型"}},[a("el-select",{attrs:{placeholder:"请选择交易类型"},model:{value:e.formIncrease.transaction_type,callback:function(t){e.$set(e.formIncrease,"transaction_type",t)},expression:"formIncrease.transaction_type"}},[a("el-option",{attrs:{label:"OFFLINE",value:"OFFLINE"}}),e._v(" "),a("el-option",{attrs:{label:"FREE",value:"FREE"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("增加额度")])],1)],1)],1)],1)},we=[],ye={render:ve,staticRenderFns:we},Ie=ye,Ce=a("/Xao"),Se=i,xe=Ce(be,Ie,!1,Se,null,null),_e=(xe.exports,{extStoreId:"请输入通道ID",extStoreName:"请输入通道名称",paymentGateway:"请输入通道类型",updateDate:"请输入末次使用时间"}),ke={data:function(){return{userInfo:{id:"",account:"",name:"",role:""},agentsInfo:{},channels:[],create:{extStoreId:"",extStoreName:"",paymentGateway:"",chinaUmsProps:{tid:"",msgSrcId:"",msgSrc:"",signKey:"",instMid:""},agentId:12},currentId:"",update:{extStoreId:"",extStoreName:"",paymentGateway:"",updateDate:""},filter:{pageSize:10,currentPage:1,beginIndex:0,extStoreId:"",extStoreName:"",paymentGateway:"",updateDate:""},totalRows:0,keywords:"",select:"extStoreId",loading:!0,selected:[],dialogCreateVisible:!1,dialogUpdateVisible:!1,createLoading:!1,updateLoading:!1,placeholder:_e.extStoreId}},mounted:function(){this.agentsInfo=JSON.parse(sessionStorage.getItem("agentsInfo"));var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.userInfo.id=e.id,this.userInfo.account=e.account,this.userInfo.name=e.name,this.userInfo.role=e.role),this.getChannels()},methods:{tableSelectionChange:function(e){this.selected=e},searchFieldChange:function(e){this.select=e,console.log(this.select),this.placeholder=_e[e],console.log("搜索字段： "+e+" ")},pageSizeChange:function(e){console.log("每页 "+e+" 条"),this.filter.pageSize=e,this.getChannels()},pageCurrentChange:function(e){console.log("当前页: "+e),this.filter.currentPage=e,this.getChannels()},reset:function(){this.$refs.create.resetFields()},getChannels:function(){var e=this;this.loading=!0,this.$http.get("http://www.wfpay.xyz/xpay/admin/"+this.userInfo.id+"/channels").then(function(t){t.data.data&&(e.channels=t.data.data);var a=[];if(""!==e.keywords)for(var n=0,r=e.channels.length;n<r;n++){var l=new RegExp(e.keywords);null!==e.channels[n][e.select].toString().match(l)&&a.push(e.channels[n])}else a=e.channels;e.totalRows=a.length,e.filter.beginIndex=(e.filter.currentPage-1)*e.filter.pageSize,e.channels=a.splice(e.filter.beginIndex,e.filter.pageSize),e.loading=!1,e.selected.splice(0,e.selected.length)}).catch(function(e){console.log(e)})},createChannel:function(){var e=this;this.createLoading=!0,this.$http.put("http://www.wfpay.xyz/xpay/admin/"+this.userInfo.id+"/channels",this.create).then(function(t){console.log(t),e.$message.success("创建通道成功！"),e.dialogCreateVisible=!1,e.createLoading=!1,e.$http.patch("http://www.wfpay.xyz/xpay/admin/"+e.userInfo.id+"/stores/267/channels"),e.reset(),e.getChannels()}).catch(function(){e.$message.error("创建通道失败！"),e.reset(),e.createLoading=!1})},removeChannel:function(e,t){var a=this;console.log(e,t),this.$confirm("此操作将删除通道 "+t.extStoreName+", 是否继续?","提示",{type:"warning"}).then(function(){var e=t.id;a.$http.delete("http://www.wfpay.xyz/xpay/admin/"+a.userInfo.id+"/channels/"+e).then(function(){a.$message.success("成功删除了通道"+t.extStoreName+"!"),a.getChannels()}).catch(function(){a.$message.error("删除失败!")})}).catch(function(){a.$message.info("已取消操作!")})}}},Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("通道管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("通道列表")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:e.placeholder},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[a("el-select",{staticClass:"sel-placeholder",staticStyle:{width:"130px"},attrs:{slot:"prepend"},on:{change:e.searchFieldChange},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[a("el-option",{attrs:{label:"通道ID",value:"extStoreId"}}),e._v(" "),a("el-option",{attrs:{label:"通道名称",value:"extStoreName"}}),e._v(" "),a("el-option",{attrs:{label:"通道类型",value:"paymentGateway"}}),e._v(" "),a("el-option",{attrs:{label:"末次使用时间",value:"updateDate"}})],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getChannels},slot:"append"},[e._v("查询")])],1),e._v(" "),"ADMIN"===e.userInfo.role?[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreateVisible=!0}}},[e._v("添加")])]:e._e()],2)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.channels,height:"680","default-sort":{prop:"updateDate",order:"descending"}},on:{"selection-change":e.tableSelectionChange}},[a("el-table-column",{attrs:{prop:"extStoreId",label:"通道ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"extStoreName",label:"通道名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"paymentGateway",label:"通道类型"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"updateDate",label:"末次使用时间"}}),e._v(" "),"ADMIN"===e.userInfo.role?[a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.removeChannel(t.$index,t.row)}}},[e._v("删除")])]}}])})]:e._e()],2),e._v(" "),"ADMIN"===e.userInfo.role?[a("el-dialog",{attrs:{title:"新增通道",center:"",visible:e.dialogCreateVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogCreateVisible=t},close:e.reset},model:{value:e.dialogCreateVisible,callback:function(t){e.dialogCreateVisible=t},expression:"dialogCreateVisible"}},[a("el-form",{ref:"create",attrs:{id:"#create",model:e.create,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"通道ID",prop:"extStoreId"}},[a("el-input",{model:{value:e.create.extStoreId,callback:function(t){e.$set(e.create,"extStoreId",t)},expression:"create.extStoreId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"通道名称",prop:"extStoreName"}},[a("el-input",{model:{value:e.create.extStoreName,callback:function(t){e.$set(e.create,"extStoreName",t)},expression:"create.extStoreName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"通道类型",prop:"paymentGateway"}},[a("el-select",{attrs:{placeholder:"请选择通道类型"},model:{value:e.create.paymentGateway,callback:function(t){e.$set(e.create,"paymentGateway",t)},expression:"create.paymentGateway"}},[a("el-option",{attrs:{label:"银商H5",value:"CHINAUMSH5"}}),e._v(" "),a("el-option",{attrs:{label:"银商APP",value:"CHINAUMSAPP"}})],1)],1),e._v(" "),"CHINAUMSH5"===e.create.paymentGateway||"CHINAUMSAPP"===e.create.paymentGateway?[a("el-form-item",{attrs:{label:"终端号",prop:"tid"}},[a("el-input",{model:{value:e.create.chinaUmsProps.tid,callback:function(t){e.$set(e.create.chinaUmsProps,"tid",t)},expression:"create.chinaUmsProps.tid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息源ID",prop:"msgSrcId"}},[a("el-input",{model:{value:e.create.chinaUmsProps.msgSrcId,callback:function(t){e.$set(e.create.chinaUmsProps,"msgSrcId",t)},expression:"create.chinaUmsProps.msgSrcId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息源",prop:"msgSrc"}},[a("el-input",{model:{value:e.create.chinaUmsProps.msgSrc,callback:function(t){e.$set(e.create.chinaUmsProps,"msgSrc",t)},expression:"create.chinaUmsProps.msgSrc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签名秘钥",prop:"signKey"}},[a("el-input",{model:{value:e.create.chinaUmsProps.signKey,callback:function(t){e.$set(e.create.chinaUmsProps,"signKey",t)},expression:"create.chinaUmsProps.signKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机构号",prop:"instMid"}},[a("el-input",{model:{value:e.create.chinaUmsProps.instMid,callback:function(t){e.$set(e.create.chinaUmsProps,"instMid",t)},expression:"create.chinaUmsProps.instMid"}})],1)]:e._e(),e._v(" "),a("el-form-item",{attrs:{label:"代理商",prop:"agentId"}},[a("el-input",{model:{value:e.agentId,callback:function(t){e.agentId=t},expression:"agentId"}})],1)],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogCreateVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.createLoading},on:{click:e.createChannel}},[e._v("确 定")])],1)],1)]:e._e(),e._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":e.filter.currentPage,"page-sizes":[10,20,50,100],"page-size":e.filter.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRows},on:{"size-change":e.pageSizeChange,"current-change":e.pageCurrentChange}})],2)],1)},ze=[],Ae={render:Pe,staticRenderFns:ze},Re=Ae,Ne=a("/Xao"),Ee=c,Ue=Ne(ke,Re,!1,Ee,null,null),Ve=(Ue.exports,{id:"请输入id",account:"请输入账号",name:"请输入用户名"}),Te={data:function(){return{userInfo:{id:"",account:"",name:""},agents:[],filter:{pageSize:10,currentPage:1,beginIndex:0,id:"",account:"",name:""},totalRows:0,keywords:"",select:"id",loading:!0,selected:[],placeholder:Ve.id}},mounted:function(){var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.userInfo.id=e.id,this.userInfo.account=e.account,this.userInfo.name=e.name),this.getAgents()},methods:{viewPwd:function(e){this.$refs.table.toggleRowExpansion(e)},filterRole:function(e,t){return t.role===e},tableSelectionChange:function(e){this.selected=e},searchFieldChange:function(e){this.select=e,console.log(this.select),this.placeholder=Ve[e],console.log("搜索字段： "+e+" ")},pageSizeChange:function(e){console.log("每页 "+e+" 条"),this.filter.pageSize=e,this.getAgents()},pageCurrentChange:function(e){console.log("当前页: "+e),this.filter.currentPage=e,this.getAgents()},getAgents:function(){var e=this;this.loading=!0,this.$http.get("http://www.wfpay.xyz/xpay/admin/agents").then(function(t){t.data.data&&(e.agents=t.data.data);var a=[];if(""!==e.keywords)for(var n=0,r=e.agents.length;n<r;n++){var l=new RegExp(e.keywords);null!==e.agents[n][e.select].toString().match(l)&&a.push(e.agents[n])}else a=e.agents;e.totalRows=a.length,e.filter.beginIndex=(e.filter.currentPage-1)*e.filter.pageSize,e.agents=a.splice(e.filter.beginIndex,e.filter.pageSize),e.loading=!1,e.selected.splice(0,e.selected.length)}).catch(function(e){console.log(e)})}}},De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("代理商列表")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"10px"},attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-input",{staticStyle:{width:"28%"},attrs:{placeholder:e.placeholder},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[a("el-select",{staticClass:"sel-placeholder",staticStyle:{width:"100px"},attrs:{slot:"prepend"},on:{change:e.searchFieldChange},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[a("el-option",{attrs:{label:"id",value:"id"}}),e._v(" "),a("el-option",{attrs:{label:"账号",value:"account"}}),e._v(" "),a("el-option",{attrs:{label:"用户名",value:"name"}})],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getAgents},slot:"append"},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.agents,height:"680","default-sort":{prop:"id",order:"ascending"}},on:{"selection-change":e.tableSelectionChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"密码："}},[a("span",[e._v(e._s(t.row.password))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"id",label:"id"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"account",label:"账号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"password",label:"密码",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"info",plain:""},on:{click:function(a){e.viewPwd(t.row)}}},[e._v("查看密码\n          ")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":e.filter.currentPage,"page-sizes":[10,20,50,100],"page-size":e.filter.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRows},on:{"size-change":e.pageSizeChange,"current-change":e.pageCurrentChange}})],1)],1)},Ge=[],Me={render:De,staticRenderFns:Ge},Oe=Me,$e=a("/Xao"),Fe=p,Le=$e(Te,Oe,!1,Fe,null,null),Je=Le.exports,qe={data:function(){return{formRecharge:{amount:"",channel:"",quota:0},result:{title:"",status:"",qrcode:"",icon:!1,closable:!1},intervalId:""}},mounted:function(){this.formRecharge.quota=sessionStorage.getItem("quota")},destroyed:function(){clearInterval(this.intervalId)},methods:{onSubmit:function(){var e=this,t=sessionStorage.getItem("storeId"),a=JSON.parse(sessionStorage.getItem("access-user")),n={amount:this.formRecharge.amount,channel:this.formRecharge.channel};if(!this.formRecharge.channel)return this.$message.error("请选择支付方式！"),!1;this.$http.post("http://www.wfpay.xyz/xpay/admin/"+a.id+"/stores/"+t+"/recharge_order",n).then(function(t){e.result.qrcode="http://pan.baidu.com/share/qrcode?w=200&h=200&url="+t.data.data.codeUrl,e.result.closable=!0,e.result.icon=!0,e.result.title="请扫描二维码完成支付",e.result.status="info",sessionStorage.setItem("transactionId",t.data.data.transactionId),e.intervalId=setInterval(e.validate,1e4)})},validate:function(){var e=this,t=sessionStorage.getItem("transactionId");t&&this.$http.get("http://www.wfpay.xyz/xpay/admin/"+JSON.parse(sessionStorage.getItem("access-user")).id+"/transactions/"+t).then(function(t){if("SUCCESS"===t.data.data.status){clearInterval(e.intervalId),e.result.title="支付成功",e.result.status="success",e.formRecharge.quota=t.data.data.quota;var a={quota:t.data.data.quota,bailPercentage:t.data.data.bailPercentage};sessionStorage.setItem("profile",a)}console.log(t.data.data.status)})}}},We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("交易额度管理")])],1)],1),e._v(" "),a("el-col",{staticClass:"warp-main",attrs:{span:6}},[a("el-form",{ref:"formRecharge",attrs:{model:e.formRecharge,"label-width":"100px"}},[a("el-form-item",[a("p",[e._v("交易额度管理")])]),e._v(" "),a("el-form-item",{attrs:{label:"剩余交易额度"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formRecharge.quota,callback:function(t){e.$set(e.formRecharge,"quota",t)},expression:"formRecharge.quota"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"充值金额"}},[a("el-input-number",{attrs:{min:100,step:100},model:{value:e.formRecharge.amount,callback:function(t){e.$set(e.formRecharge,"amount",t)},expression:"formRecharge.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付方式"}},[a("el-select",{attrs:{placeholder:"请选择支付方式"},model:{value:e.formRecharge.channel,callback:function(t){e.$set(e.formRecharge,"channel",t)},expression:"formRecharge.channel"}},[a("el-option",{attrs:{label:"支付宝",value:"ALIPAY"}}),e._v(" "),a("el-option",{attrs:{label:"微信",value:"WECHAT"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即充值")])],1)],1),e._v(" "),a("el-col",{staticClass:"show-result",attrs:{span:12}},[a("el-col",{attrs:{span:24}},[a("img",{attrs:{src:e.result.qrcode}})]),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{closable:e.result.closable,"show-icon":e.result.icon,title:e.result.title,type:e.result.status,center:""}})],1)],1)],1)],1)},Qe=[],He={render:We,staticRenderFns:Qe},Ke=He,Ze=a("/Xao"),Ye=d,Be=Ze(qe,Ke,!1,Ye,null,null),Xe=(Be.exports,{data:function(){return{originalData:[],successVal:0,pickerOptions:{shortcuts:[{text:"最近两天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-1728e5),e.$emit("pick",[a,t])}}]},pickerTime:"",userInfo:{id:"",account:"",name:"",role:""},storesInfo:{id:"",name:""},recharges:[],filter:{name:"",pageSize:10,currentPage:1,beginIndex:0},totalRows:0,loading:!0,filename:"",downloadLoading:!1}},mounted:function(){var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.userInfo.id=e.id,this.userInfo.account=e.account,this.userInfo.name=e.name,this.userInfo.role=e.role);var t=new Date,a=new Date;a.setTime(t.getTime()+864e5);var n=t.getFullYear()+"-"+this.zeroFill(t.getMonth()+1)+"-"+this.zeroFill(t.getDate()),r=a.getFullYear()+"-"+this.zeroFill(a.getMonth()+1)+"-"+this.zeroFill(a.getDate());this.pickerTime=[],this.pickerTime.push(n,r),this.storesInfo=JSON.parse(sessionStorage.getItem("storesInfo")),this.getRecharges()},methods:{zeroFill:function(e){return e>=0&&e<=9?"0"+e:e},getSummaries:function(e){var t=e.columns,a=(e.data,this.originalData),n=0;a.map(function(e){"SUCCESS"===e.status&&(n+=e.amount)});var r=[];return t.forEach(function(e,t){if(0===t&&(r[t]="总计"),6===t){var l=a.map(function(t){return t[e.property]}),s=0;l.forEach(function(e){"SUCCESS"===e&&s++}),r[t]="成功 "+s+" 笔"}7===t&&(r[t]=n,r[t]+=" 元")}),r},pageSizeChange:function(e){console.log("每页 "+e+" 条"),this.filter.pageSize=e,this.getRecharges()},pageCurrentChange:function(e){console.log("当前页: "+e),this.filter.currentPage=e,this.getRecharges()},getRecharges:function(){var e=this;if(this.pickerTime){this.loading=!0;var t=void 0;this.filter.name?(this.storesInfo.forEach(function(t){e.filter.name===t[1]&&(e.filter.name=t[0])}),t="http://www.wfpay.xyz/xpay/admin/"+this.userInfo.id+"/transactions?storeId="+this.filter.name+"&startDate="+this.pickerTime[0]+"&endDate="+this.pickerTime[1]):t="http://www.wfpay.xyz/xpay/admin/"+this.userInfo.id+"/transactions?startDate="+this.pickerTime[0]+"&endDate="+this.pickerTime[1],this.$http.get(t).then(function(t){0===e.originalData.length?e.originalData=e.originalData.concat(t.data.data):(e.originalData=[],e.originalData=e.originalData.concat(t.data.data)),t.data.data.forEach(function(e){e.bailPercentage+="%",e.quota+="元"});var a=t.data.data;a?(a.forEach(function(t){var a=t;e.storesInfo.forEach(function(e){a.storeId===e[0]&&(a.name=e[1])})}),e.totalRows=a.length,e.filter.beginIndex=(e.filter.currentPage-1)*e.filter.pageSize,e.recharges=a.splice(e.filter.beginIndex,e.filter.pageSize)):e.recharges=[],e.loading=!1}).catch(function(){e.$message.error("未查询到有效订单 或 查询订单超过两天！"),e.loading=!1})}else this.$message.error("请选择查询日期")},handleDownload:function(){var e=this;this.downloadLoading=!0,a.e(0).then(function(){var t=a("iFss"),n=t.export_json_to_excel,r=["商户名称","订单号","交易额度","费率","交易时间","操作类型","状态","金额"],l=["name","orderNo","quota","bailPercentage","createDate","operation","status","amount"],s=e.originalData;n(r,e.formatJson(l,s),e.filename),e.downloadLoading=!1}.bind(null,a)).catch(a.oe)},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})}}}),je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("充值记录")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0"},attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},["STORE"!==e.userInfo.role?[a("el-form-item",{attrs:{label:"商户名称"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择商户名称"},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}},e._l(e.storesInfo,function(e){return a("el-option",{key:e[0],attrs:{label:e[1],value:e[0]}})}))],1)]:e._e(),e._v(" "),a("el-form-item",{attrs:{label:"下单时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",align:"right",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.pickerTime,callback:function(t){e.pickerTime=t},expression:"pickerTime"}})],1)],1),e._v(" "),a("el-button",{attrs:{type:"info",icon:"el-icon-search"},on:{click:e.getRecharges}},[e._v("查询")]),e._v(" "),a("el-form-item",[a("el-input",{staticStyle:{width:"240px","margin-left":"15px"},attrs:{placeholder:"请输入文件名(默认excel-list)","prefix-icon":"el-icon-document"},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",icon:"document",loading:e.downloadLoading},on:{click:e.handleDownload}},[e._v("导出excel")])],1)],2)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.recharges,height:"680","summary-method":e.getSummaries,"show-summary":"","default-sort":{prop:"orderTime",order:"descending"}}},[a("el-table-column",{attrs:{prop:"name",label:"商户名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNo",sortable:"",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"quota",sortable:"",label:"交易额度"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bailPercentage",sortable:"",label:"费率"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createDate",sortable:"",label:"交易时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",sortable:"",label:"金额 （元）"}})],1),e._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":e.filter.currentPage,"page-sizes":[10,20,50,100],"page-size":e.filter.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRows},on:{"size-change":e.pageSizeChange,"current-change":e.pageCurrentChange}})],1)],1)},et=[],tt={render:je,staticRenderFns:et},at=tt,nt=a("/Xao"),rt=u,lt=nt(Xe,at,!1,rt,null,null),st=lt.exports,ot=a("3cXf"),it=a.n(ot),ct={name:"请输入用户名",adminId:"管理员ID",adminName:"管理员姓名"},pt={data:function(){return{userInfo:{id:"",account:"",name:"",role:""},agentsInfo:{},stores:[],update:{name:"",appId:"",bailPercentage:"",code:"",csrTel:"",proxyUrl:"",dailyLimit:""},createAdmin:{name:"",bailPercentage:"",agentId:"",extStoreId:"",extStoreName:"",paymentGateway:"",chinaUmsProps:{tid:"",msgSrcId:"",msgSrc:"",signKey:"",InstMid:""}},tempStoresInfo:{},formEdit:{account:"",password:"",name:"",role:""},createAdminRules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],bailPercentage:[{required:!0,message:"请输入费率",trigger:"blur"}],extStoreId:[{required:!0,message:"请输入通道ID",trigger:"blur"}],extStoreName:[{required:!0,message:"请输入通道名称",trigger:"blur"}],paymentGateway:[{required:!0,message:"请选择支付网关类型",trigger:"blur"}]},filter:{pageSize:10,currentPage:1,beginIndex:0,name:"",bailPercentage:"",code:"",csrTel:"",proxyUrl:""},totalRows:0,keywords:"",select:"name",loading:!0,selected:[],dialogCreateVisible:!1,dialogUpdateVisible:!1,dialogChangePwdVisible:!1,createLoading:!1,updateLoading:!1,placeholder:ct.name}},mounted:function(){this.agentsInfo=JSON.parse(sessionStorage.getItem("agentsInfo")),console.log(this.agentsInfo),""===this.createAdmin.agentId&&(this.tempStoresInfo=JSON.parse(sessionStorage.getItem("storesInfo")),console.log(this.tempStoresInfo));var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.userInfo.id=e.id,this.userInfo.account=e.account,this.userInfo.name=e.name,this.userInfo.role=e.role),this.getStores()},methods:{tableSelectionChange:function(e){this.selected=e},searchFieldChange:function(e){this.select=e,this.placeholder=ct[e],console.log("搜索字段： "+e+" ")},pageSizeChange:function(e){console.log("每页 "+e+" 条"),this.filter.pageSize=e,this.getStores()},pageCurrentChange:function(e){console.log("当前页: "+e),this.filter.currentPage=e,this.getStores()},init:function(){this.steps.active=0},reset:function(){this.$refs.createAdmin.resetFields()},getStores:function(){var e=this;this.loading=!0,this.$http.get("http://www.wfpay.xyz/xpay/admin/"+this.userInfo.id+"/stores").then(function(t){t.data.data&&(t.data.data.forEach(function(e){"WECHAT"===e.channelType&&(e.channelType="微信公众号"),"ALIPAY"===e.channelType&&(e.channelType="支付宝"),"BANK"===e.channelType&&(e.channelType="银联快捷")}),e.stores=t.data.data);var a=[];if(""!==e.keywords)for(var n=0,r=e.stores.length;n<r;n++){var l=new RegExp(e.keywords);e.stores[n][e.select].toString().match(l)&&a.push(e.stores[n])}else a=e.stores;e.totalRows=a.length,e.filter.beginIndex=(e.filter.currentPage-1)*e.filter.pageSize,e.stores=a.splice(e.filter.beginIndex,e.filter.pageSize),e.loading=!1,e.selected.splice(0,e.selected.length)})},viewPwd:function(e){this.$refs.table.toggleRowExpansion(e)},viewDetail:function(e){e.id&&sessionStorage.setItem("currentId",e.id),e.app&&sessionStorage.setItem("currentAppId",e.app.id),e.agent&&sessionStorage.setItem("currentAgentId",e.agent.id),e.admin&&sessionStorage.setItem("currentAdminId",e.admin.id),sessionStorage.setItem("details",it()(e)),this.$router.push({path:"/store/storeDetails"})},changePwd:function(){var e=this;this.$http.patch("http://www.wfpay.xyz/xpay/admin/"+this.userInfo.id+"/",this.formEdit).then(function(){e.getStores(),e.$message.success("修改成功！"),e.$refs.formEdit.resetFields()}).catch(function(){e.$message.error("修改失败！"),e.$refs.formEdit.resetFields()})},handleCreateAdmin:function(){var e=this;this.$refs.createAdmin.validate(function(t){if(!t)return!1;e.$http.put("http://www.wfpay.xyz/xpay/admin/"+e.userInfo.id+"/stores/quick",e.createAdmin).then(function(){e.$message.success("创建成功！"),e.reset()}).catch(function(){e.$message.error("创建失败！"),e.reset()})})},handleChangePwd:function(e){this.dialogChangePwdVisible=!0,this.formEdit.name=e.name,this.formEdit.account=e.admin.account}}},dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("商户管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("商户列表")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:e.placeholder},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[a("el-select",{staticClass:"sel-placeholder",staticStyle:{width:"130px"},attrs:{slot:"prepend"},on:{change:e.searchFieldChange},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[a("el-option",{attrs:{label:"用户名",value:"name"}}),e._v(" "),a("el-option",{attrs:{label:"管理员账号",value:"account"}})],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getStores},slot:"append"},[e._v("查询")])],1),e._v(" "),"ADMIN"===e.userInfo.role?[a("el-button",{attrs:{type:"info",plain:"",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreateVisible=!0}}},[e._v("创建商户")])]:e._e()],2)],1),e._v(" "),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.stores,height:"680","default-sort":{prop:"bailPercentage",order:"descending"}},on:{"selection-change":e.tableSelectionChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"密码："}},[a("span",[e._v(e._s(t.row.admin.password))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"用户名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.viewDetail(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"admin.account",label:"管理员账号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"admin.password",label:"管理员密码",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"info",plain:""},on:{click:function(a){e.viewPwd(t.row)}}},[e._v("查看密码\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"channelType",label:"已有通道类型",align:"center"}}),e._v(" "),"ADMIN"===this.userInfo.role?[a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(a){e.handleChangePwd(t.row)}}},[e._v("修改密码\n            ")])]}}])})]:e._e()],2),e._v(" "),"ADMIN"===e.userInfo.role?[a("el-dialog",{attrs:{title:"创建商户",center:"",visible:e.dialogCreateVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogCreateVisible=t},close:e.reset},model:{value:e.dialogCreateVisible,callback:function(t){e.dialogCreateVisible=t},expression:"dialogCreateVisible"}},[a("el-form",{ref:"createAdmin",attrs:{id:"#createAdmin",model:e.createAdmin,rules:e.createAdminRules,"label-width":"120px"}},[a("el-form-item",{attrs:{prop:"name",label:"用户名"}},[a("el-input",{model:{value:e.createAdmin.name,callback:function(t){e.$set(e.createAdmin,"name",t)},expression:"createAdmin.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"费率",prop:"bailPercentage"}},[a("el-input",{model:{value:e.createAdmin.bailPercentage,callback:function(t){e.$set(e.createAdmin,"bailPercentage",t)},expression:"createAdmin.bailPercentage"}},[a("template",{slot:"append"},[e._v("%")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"代理商",prop:"agentId"}},[a("el-select",{attrs:{placeholder:"请选择代理商(没有可不选)"},model:{value:e.createAdmin.agentId,callback:function(t){e.$set(e.createAdmin,"agentId",t)},expression:"createAdmin.agentId"}},e._l(e.agentsInfo,function(e){return a("el-option",{key:e[0],attrs:{label:e[3],value:e[0]}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"通道ID",prop:"extStoreId"}},[a("el-input",{model:{value:e.createAdmin.extStoreId,callback:function(t){e.$set(e.createAdmin,"extStoreId",t)},expression:"createAdmin.extStoreId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"通道名称",prop:"extStoreName"}},[a("el-input",{model:{value:e.createAdmin.extStoreName,callback:function(t){e.$set(e.createAdmin,"extStoreName",t)},expression:"createAdmin.extStoreName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付网关类型",prop:"paymentGateway"}},[a("el-select",{attrs:{placeholder:"请选择支付网关类型"},model:{value:e.createAdmin.paymentGateway,callback:function(t){e.$set(e.createAdmin,"paymentGateway",t)},expression:"createAdmin.paymentGateway"}},[a("el-option",{attrs:{label:"银商H5",value:"CHINAUMSH5"}}),e._v(" "),a("el-option",{attrs:{label:"银商APP",value:"CHINAUMSAPP"}}),e._v(" "),a("el-option",{attrs:{label:"环迅",value:"IPS"}})],1)],1),e._v(" "),"CHINAUMSH5"===e.createAdmin.paymentGateway||"CHINAUMSAPP"===e.createAdmin.paymentGateway?[a("el-form-item",{attrs:{label:"终端号",prop:"tid"}},[a("el-input",{model:{value:e.createAdmin.chinaUmsProps.tid,callback:function(t){e.$set(e.createAdmin.chinaUmsProps,"tid",t)},expression:"createAdmin.chinaUmsProps.tid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息源ID",prop:"msgSrcId"}},[a("el-input",{model:{value:e.createAdmin.chinaUmsProps.msgSrcId,callback:function(t){e.$set(e.createAdmin.chinaUmsProps,"msgSrcId",t)},expression:"createAdmin.chinaUmsProps.msgSrcId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息源",prop:"msgSrc"}},[a("el-input",{model:{value:e.createAdmin.chinaUmsProps.msgSrc,callback:function(t){e.$set(e.createAdmin.chinaUmsProps,"msgSrc",t)},expression:"createAdmin.chinaUmsProps.msgSrc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签名秘钥",prop:"signKey"}},[a("el-input",{model:{value:e.createAdmin.chinaUmsProps.signKey,callback:function(t){e.$set(e.createAdmin.chinaUmsProps,"signKey",t)},expression:"createAdmin.chinaUmsProps.signKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机构号",prop:"InstMid"}},[a("el-input",{model:{value:e.createAdmin.chinaUmsProps.InstMid,callback:function(t){e.$set(e.createAdmin.chinaUmsProps,"InstMid",t)},expression:"createAdmin.chinaUmsProps.InstMid"}})],1)]:e._e()],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:function(t){e.dialogCreateVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:"",loading:e.createLoading},on:{click:e.handleCreateAdmin}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改密码",visible:e.dialogChangePwdVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogChangePwdVisible=t}},model:{value:e.dialogChangePwdVisible,callback:function(t){e.dialogChangePwdVisible=t},expression:"dialogChangePwdVisible"}},[a("el-form",{ref:"formEdit",attrs:{model:e.formEdit,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formEdit.name,callback:function(t){e.$set(e.formEdit,"name",t)},expression:"formEdit.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"account",label:"账号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formEdit.account,callback:function(t){e.$set(e.formEdit,"account",t)},expression:"formEdit.account"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password",label:"密码"}},[a("el-input",{model:{value:e.formEdit.password,callback:function(t){e.$set(e.formEdit,"password",t)},expression:"formEdit.password"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"role",label:"权限"}},[a("el-select",{attrs:{placeholder:"请选择用户权限"},model:{value:e.formEdit.role,callback:function(t){e.$set(e.formEdit,"role",t)},expression:"formEdit.role"}},[a("el-option",{attrs:{label:"代理商",value:"AGENT"}}),e._v(" "),a("el-option",{attrs:{label:"商户管理员",value:"STORE"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:function(t){e.dialogChangePwdVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:"",loading:e.createLoading},on:{click:e.changePwd}},[e._v("提交")])],1)],1)]:e._e(),e._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":e.filter.currentPage,"page-sizes":[10,20,50,100],"page-size":e.filter.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRows},on:{"size-change":e.pageSizeChange,"current-change":e.pageCurrentChange}})],2)],1)},ut=[],mt={render:dt,staticRenderFns:ut},gt=mt,ht=a("/Xao"),ft=m,bt=ht(pt,gt,!1,ft,null,null),vt=bt.exports,wt={name:"商户名",bailPercentage:"请输入费率",channelType:"通道类型"},yt={data:function(){return{userInfo:{id:"",account:"",name:"",role:""},agentsInfo:{},stores:[],update:{name:"",appId:"",bailPercentage:"",code:"",csrTel:"（投诉电话:,客服微信:）",proxyUrl:"",dailyLimit:""},createStore:{name:"",bailPercentage:"",appId:"",agentId:"",channelType:""},createChannel:{extStoreId:"",extStoreName:"",paymentGateway:"",chinaUmsProps:{tid:"",msgSrcId:"",msgSrc:"",signKey:"",InstMid:""}},formEdit:{account:"",password:"",name:"",role:""},formIncrease:{amount:"",transaction_type:"FREE"},storeId:"",createAdminRules:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],name:[{required:!0,message:"请输入用户名",trigger:"blur"}],role:[{required:!0,message:"请选择权限",trigger:"blur"}]},createStoreRules:{name:[{required:!0,message:"请输入商户名称",trigger:"blur"}],bailPercentage:[{required:!0,message:"请输入费率",trigger:"blur"}],channelType:[{required:!0,message:"请输入通道类型",trigger:"blur"}]},createChannelRules:{extStoreId:[{required:!0,message:"请输入通道ID",trigger:"blur"}],extStoreName:[{required:!0,message:"请输入用户名",trigger:"blur"}],paymentGateway:[{required:!0,message:"请输入通道类型",trigger:"blur"}]},updateRules:{name:[{required:!0,message:"请输入商户名称",trigger:"blur"}],csrTel:[{required:!0,message:"请输入客服联系方式",trigger:"blur"}],proxyUrl:[{required:!0,message:"请输入异步通知地址",trigger:"blur"}]},filter:{pageSize:10,currentPage:1,beginIndex:0,name:"",bailPercentage:"",code:"",csrTel:"",proxyUrl:""},totalRows:0,keywords:"",select:"name",loading:!0,selected:[],dialogCreateStoreVisible:!1,dialogCreateChannelVisible:!1,dialogIncreaseVisible:!1,dialogUpdateVisible:!1,createLoading:!1,updateLoading:!1,placeholder:wt.name}},mounted:function(){var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.userInfo.id=e.id,this.userInfo.account=e.account,this.userInfo.name=e.name,this.userInfo.role=e.role),this.getStores()},methods:{tableSelectionChange:function(e){this.selected=e},searchFieldChange:function(e){this.select=e,this.placeholder=wt[e],console.log("搜索字段： "+e+" ")},pageSizeChange:function(e){console.log("每页 "+e+" 条"),this.filter.pageSize=e,this.getStores()},pageCurrentChange:function(e){console.log("当前页: "+e),this.filter.currentPage=e,this.getStores()},resetCreateStore:function(){this.$refs.createStore.resetFields()},resetUpdate:function(){this.$refs.update.resetFields()},resetCreateChannel:function(){this.$refs.createChannel.resetFields()},getStores:function(){var e=this;this.loading=!0;var t=sessionStorage.getItem("currentAdminId");this.$http.get("http://www.wfpay.xyz/xpay/admin/"+t+"/stores/").then(function(t){t.data.data.constructor!==Array?(e.stores.push(t.data.data),console.log(e.stores)):e.stores=t.data.data,e.stores.forEach(function(e){"WECHAT"===e.channelType&&(e.channelType="微信公众号"),"ALIPAY"===e.channelType&&(e.channelType="支付宝"),"BANK"===e.channelType&&(e.channelType="银联快捷"),e.bailPercentage+="%",e.quota+="元",e.todayTradeAmount+="元",e.dailyLimit+="元"});var a=[];if(""!==e.keywords)for(var n=0,r=e.stores.length;n<r;n++){var l=new RegExp(e.keywords);e.stores[n][e.select].toString().match(l)&&a.push(e.stores[n])}else a=e.stores;e.totalRows=a.length,e.filter.beginIndex=(e.filter.currentPage-1)*e.filter.pageSize,e.stores=a.splice(e.filter.beginIndex,e.filter.pageSize),e.loading=!1,e.selected.splice(0,e.selected.length)})},view:function(e){this.$refs.table.toggleRowExpansion(e)},handleCreateStore:function(){var e=this;this.$refs.createStore.validate(function(t){if(!t)return!1;e.createLoading=!0,e.createStore.appId=sessionStorage.getItem("currentAppId"),e.createStore.agentId=sessionStorage.getItem("currentAgentId"),e.createStore.adminId=sessionStorage.getItem("currentAdminId"),e.$http.put("http://www.wfpay.xyz/xpay/admin/"+e.userInfo.id+"/stores",e.createStore).then(function(){e.$message.success("创建商户成功！"),e.resetCreateStore(),e.dialogCreateStoreVisible=!1}).catch(function(){e.$message.error("创建商户失败！"),e.resetCreateStore()})})},setCurrent:function(e){this.update.id=e.id,this.update.name=e.name,e.csrTel&&(this.update.csrTel=e.csrTel),this.update.proxyUrl=e.proxyUrl,this.update.bailPercentage=parseInt(e.bailPercentage),this.update.dailyLimit=parseInt(e.bailPercentage),this.dialogUpdateVisible=!0},updateStore:function(){var e=this;this.$refs.update.validate(function(t){if(!t)return!1;e.updateLoading=!0,e.$http.patch("http://www.wfpay.xyz/xpay/admin/"+e.userInfo.id+"/stores/"+e.update.id,e.update).then(function(t){e.$message.success("修改商户信息成功！"),e.dialogUpdateVisible=!1,e.updateLoading=!1,e.resetUpdate(),e.getStores()}).catch(function(){e.$message.error("修改商户信息失败！"),e.resetUpdate(),e.dialogUpdateVisible=!1,e.updateLoading=!1})})},increaseQuota:function(e){this.storeId=e.id,this.dialogIncreaseVisible=!0},handleIncreaseQuota:function(){var e=this,t=this.userInfo.id,a=this.storeId;this.$http.post("http://www.wfpay.xyz/xpay/admin/"+t+"/stores/"+a+"/quota",this.formIncrease).then(function(){e.$message.success("增加额度成功！"),e.dialogIncreaseVisible=!1,e.getStores()}).catch(function(){e.$message.error("增加额度失败！")})},handleCreateChannel:function(){var e=this;this.$refs.createChannel.validate(function(t){if(!t)return!1;e.createLoading=!0,e.$http.put("http://www.wfpay.xyz/xpay/admin/"+e.userInfo.id+"/channels",e.create).then(function(t){console.log(t),e.$message.success("新增通道成功！"),e.dialogCreateVisible=!1,e.createLoading=!1,resetCreateChannel(),e.getChannels()})})},viewChannel:function(e){e.channels?(sessionStorage.setItem("channelData",it()(e.channels)),this.$router.push({path:"/store/storeChannels"})):this.$message.error("尚未对该商户分配通道！")}}},It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("商户管理")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/store/storeAdmins"}}},[e._v("商户列表")]),e._v(" "),a("el-breadcrumb-item",[e._v("商户详情")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:e.placeholder},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[a("el-select",{staticClass:"sel-placeholder",staticStyle:{width:"130px"},attrs:{slot:"prepend"},on:{change:e.searchFieldChange},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[a("el-option",{attrs:{label:"商户名",value:"name"}}),e._v(" "),a("el-option",{attrs:{label:"通道类型",value:"channelType"}}),e._v(" "),a("el-option",{attrs:{label:"费率",value:"bailPercentage"}})],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getStores},slot:"append"},[e._v("查询")])],1),e._v(" "),"ADMIN"===e.userInfo.role?[a("el-button",{attrs:{type:"info",plain:"",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreateStoreVisible=!0}}},[e._v("添加")])]:e._e()],2)],1),e._v(" "),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.stores,height:"680"},on:{"selection-change":e.tableSelectionChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"right",inline:""}},[a("el-form-item",{attrs:{label:"storeId"}},[a("span",[e._v(e._s(t.row.code))])]),e._v(" "),a("el-form-item",{attrs:{label:"appKey"}},[a("span",[e._v(e._s(t.row.app.key))])]),e._v(" "),a("el-form-item",{attrs:{label:"appSecret"}},[a("span",[e._v(e._s(t.row.app.secret))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"channels[0].paymentGateway",label:"网关类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelType",label:"通道类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商户名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bailPercentage",sortable:"",label:"费率",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"quota",sortable:"",label:"剩余交易额度",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"todayTradeAmount",sortable:"",label:"今日交易额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dailyLimit",sortable:"",label:"日交易额上限",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"对接参数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.view(t.row)}}},[e._v("查看")])]}}])}),e._v(" "),"ADMIN"===this.userInfo.role?[a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"handle",attrs:{size:"mini",type:"info",plain:""},on:{click:function(a){e.setCurrent(t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{staticClass:"handle",attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){e.increaseQuota(t.row)}}},[e._v("增加额度\n            ")]),e._v(" "),a("el-button",{staticClass:"handle",attrs:{size:"mini",type:"danger",plain:""},on:{click:function(t){e.dialogCreateChannelVisible=!0}}},[e._v("添加通道ID\n            ")])]}}])})]:e._e()],2),e._v(" "),a("el-dialog",{attrs:{title:"创建商户",center:"",visible:e.dialogCreateStoreVisible},on:{"update:visible":function(t){e.dialogCreateStoreVisible=t},close:e.resetCreateStore},model:{value:e.dialogCreateStoreVisible,callback:function(t){e.dialogCreateStoreVisible=t},expression:"dialogCreateStoreVisible"}},[a("el-form",{ref:"createStore",attrs:{id:"#createStore",model:e.createStore,rules:e.createStoreRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商户名",prop:"name"}},[a("el-input",{model:{value:e.createStore.name,callback:function(t){e.$set(e.createStore,"name",t)},expression:"createStore.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"费率",prop:"bailPercentage"}},[a("el-input",{model:{value:e.createStore.bailPercentage,callback:function(t){e.$set(e.createStore,"bailPercentage",t)},expression:"createStore.bailPercentage"}},[a("template",{slot:"append"},[e._v("%")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"通道类型",prop:"channelType"}},[a("el-select",{attrs:{placeholder:"请选择通道类型"},model:{value:e.createStore.channelType,callback:function(t){e.$set(e.createStore,"channelType",t)},expression:"createStore.channelType"}},[a("el-option",{attrs:{label:"微信公众号",value:"WECHAT"}}),e._v(" "),a("el-option",{attrs:{label:"支付宝",value:"ALIPAY"}}),e._v(" "),a("el-option",{attrs:{label:"H5",value:"H5"}}),e._v(" "),a("el-option",{attrs:{label:"APP",value:"APP"}}),e._v(" "),a("el-option",{attrs:{label:"银联快捷",value:"BANK"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:function(t){e.dialogCreateStoreVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:"",loading:e.createLoading},on:{click:e.handleCreateStore}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改账户信息",center:"",visible:e.dialogUpdateVisible},on:{"update:visible":function(t){e.dialogUpdateVisible=t},close:e.resetUpdate},model:{value:e.dialogUpdateVisible,callback:function(t){e.dialogUpdateVisible=t},expression:"dialogUpdateVisible"}},[a("el-form",{ref:"update",attrs:{id:"#update",model:e.update,rules:e.updateRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商户名",prop:"name"}},[a("el-input",{model:{value:e.update.name,callback:function(t){e.$set(e.update,"name",t)},expression:"update.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"费率",prop:"bailPercentage"}},[a("el-input",{model:{value:e.update.bailPercentage,callback:function(t){e.$set(e.update,"bailPercentage",t)},expression:"update.bailPercentage"}},[a("template",{slot:"append"},[e._v("%")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"日限额",prop:"dailyLimit"}},[a("el-input",{model:{value:e.update.dailyLimit,callback:function(t){e.$set(e.update,"dailyLimit",t)},expression:"update.dailyLimit"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"客服联系方式",prop:"csrTel"}},[a("el-input",{model:{value:e.update.csrTel,callback:function(t){e.$set(e.update,"csrTel",t)},expression:"update.csrTel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"异步通知地址",prop:"proxyUrl"}},[a("el-input",{model:{value:e.update.proxyUrl,callback:function(t){e.$set(e.update,"proxyUrl",t)},expression:"update.proxyUrl"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogUpdateVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.updateLoading},on:{click:e.updateStore}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"增加商户额度",center:"",visible:e.dialogIncreaseVisible,width:"30%"},on:{"update:visible":function(t){e.dialogIncreaseVisible=t}},model:{value:e.dialogIncreaseVisible,callback:function(t){e.dialogIncreaseVisible=t},expression:"dialogIncreaseVisible"}},[a("el-form",{ref:"formIncrease",attrs:{model:e.formIncrease,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"增加额度"}},[a("el-input-number",{attrs:{min:100,step:100},model:{value:e.formIncrease.amount,callback:function(t){e.$set(e.formIncrease,"amount",t)},expression:"formIncrease.amount"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogIncreaseVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleIncreaseQuota}},[e._v("增加额度")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加通道ID",center:"",visible:e.dialogCreateChannelVisible},on:{"update:visible":function(t){e.dialogCreateChannelVisible=t},close:e.resetCreateChannel},model:{value:e.dialogCreateChannelVisible,callback:function(t){e.dialogCreateChannelVisible=t},expression:"dialogCreateChannelVisible"}},[a("el-form",{ref:"createChannel",attrs:{id:"#createChannel",model:e.createChannel,rules:e.createChannelRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"通道ID",prop:"extStoreId"}},[a("el-input",{model:{value:e.createChannel.extStoreId,callback:function(t){e.$set(e.createChannel,"extStoreId",t)},expression:"createChannel.extStoreId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"通道名称",prop:"extStoreName"}},[a("el-input",{model:{value:e.createChannel.extStoreName,callback:function(t){e.$set(e.createChannel,"extStoreName",t)},expression:"createChannel.extStoreName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付网关类型",prop:"paymentGateway"}},[a("el-select",{attrs:{placeholder:"请选择支付网关类型"},model:{value:e.createChannel.paymentGateway,callback:function(t){e.$set(e.createChannel,"paymentGateway",t)},expression:"createChannel.paymentGateway"}},[a("el-option",{attrs:{label:"银商H5",value:"CHINAUMSH5"}}),e._v(" "),a("el-option",{attrs:{label:"银商APP",value:"CHINAUMSAPP"}}),e._v(" "),a("el-option",{attrs:{label:"环迅",value:"IPS"}})],1)],1),e._v(" "),"CHINAUMSH5"===e.createChannel.paymentGateway||"CHINAUMSAPP"===e.createChannel.paymentGateway?[a("el-form-item",{attrs:{label:"终端号",prop:"tid"}},[a("el-input",{model:{value:e.createChannel.chinaUmsProps.tid,callback:function(t){e.$set(e.createChannel.chinaUmsProps,"tid",t)},expression:"createChannel.chinaUmsProps.tid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息源ID",prop:"msgSrcId"}},[a("el-input",{model:{value:e.createChannel.chinaUmsProps.msgSrcId,callback:function(t){e.$set(e.createChannel.chinaUmsProps,"msgSrcId",t)},expression:"createChannel.chinaUmsProps.msgSrcId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息源",prop:"msgSrc"}},[a("el-input",{model:{value:e.createChannel.chinaUmsProps.msgSrc,callback:function(t){e.$set(e.createChannel.chinaUmsProps,"msgSrc",t)},expression:"createChannel.chinaUmsProps.msgSrc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签名秘钥",prop:"signKey"}},[a("el-input",{model:{value:e.createChannel.chinaUmsProps.signKey,callback:function(t){e.$set(e.createChannel.chinaUmsProps,"signKey",t)},expression:"createChannel.chinaUmsProps.signKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机构号",prop:"InstMid"}},[a("el-input",{model:{value:e.createChannel.InstMid,callback:function(t){e.$set(e.createChannel,"InstMid",t)},expression:"createChannel.InstMid"}})],1)]:e._e()],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogCreateChannelVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleCreateChannel}},[e._v("提交")])],1)],1),e._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":e.filter.currentPage,"page-sizes":[10,20,50,100],"page-size":e.filter.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRows},on:{"size-change":e.pageSizeChange,"current-change":e.pageCurrentChange}})],1)],1)},Ct=[],St={render:It,staticRenderFns:Ct},xt=St,_t=a("/Xao"),kt=g,Pt=_t(yt,xt,!1,kt,null,null),zt=Pt.exports,At={extStoreId:"请输入通道ID",extStoreName:"请输入通道名称",paymentGateway:"请输入通道类型",updateDate:"请输入末次使用时间"},Rt={data:function(){return{userInfo:{id:"",account:"",name:"",role:""},channels:[],create:{extStoreId:"",extStoreName:"",paymentGateway:"",chinaUmsProps:{tid:"",msgSrcId:"",msgSrc:"",signKey:"",instMid:""}},rules:{extStoreId:[{required:!0,message:"请输入通道ID",trigger:"blur"}],extStoreName:[{required:!0,message:"请输入用户名",trigger:"blur"}],paymentGateway:[{required:!0,message:"请输入通道类型",trigger:"blur"}],tid:[{required:!0,message:"请输入终端号",trigger:"blur"}],msgSrcId:[{required:!0,message:"请输入消息源ID",trigger:"blur"}],msgSrc:[{required:!0,message:"请输入消息源",trigger:"blur"}],signKey:[{required:!0,message:"请输入消息源",trigger:"blur"}]},filter:{pageSize:10,currentPage:1,beginIndex:0,extStoreId:"",extStoreName:"",paymentGateway:"",updateDate:""},totalRows:0,keywords:"",select:"extStoreId",loading:!1,selected:[],dialogCreateVisible:!1,createLoading:!1,placeholder:At.extStoreId}},mounted:function(){var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.userInfo.id=e.id,this.userInfo.account=e.account,this.userInfo.name=e.name,this.userInfo.role=e.role),this.getChannels()},destroyed:function(){sessionStorage.removeItem("channelData")},methods:{tableSelectionChange:function(e){this.selected=e},searchFieldChange:function(e){this.select=e,console.log(this.select),this.placeholder=At[e],console.log("搜索字段： "+e+" ")},pageSizeChange:function(e){console.log("每页 "+e+" 条"),this.filter.pageSize=e,this.getChannels()},pageCurrentChange:function(e){console.log("当前页: "+e),this.filter.currentPage=e,this.getChannels()},reset:function(){this.$refs.create.resetFields()},getChannels:function(){this.loading=!0,this.channels=JSON.parse(sessionStorage.getItem("channelData"));var e=[];if(""!==this.keywords)for(var t=0,a=this.channels.length;t<a;t++){var n=new RegExp(this.keywords);null!==this.channels[t][this.select].toString().match(n)&&e.push(this.channels[t])}else e=this.channels;this.totalRows=e.length,this.filter.beginIndex=10*(this.filter.currentPage-1),this.channels=e.splice(this.filter.beginIndex,this.filter.pageSize),this.loading=!1,this.selected.splice(0,this.selected.length)},createChannel:function(){var e=this;this.$refs.create.validate(function(t){if(!t)return!1;e.createLoading=!0,e.$http.put("http://www.wfpay.xyz/xpay/admin/"+e.userInfo.id+"/channels",e.create).then(function(t){console.log(t),e.$message.success("新增通道成功！"),e.dialogCreateVisible=!1,e.createLoading=!1,e.reset(),e.getChannels()})})},removeChannel:function(e,t){var a=this;console.log(e,t),this.$confirm("此操作将删除通道 "+t.extStoreName+", 是否继续?","提示",{type:"warning"}).then(function(){var e=t.id;a.$http.delete("http://www.wfpay.xyz/xpay/admin/"+a.userInfo.id+"/"+e).then(function(){a.$message.success("成功删除了通道"+t.extStoreName+"!"),a.getChannels()}).catch(function(){a.$message.error("删除失败!")})}).catch(function(){a.$message.info("已取消操作!")})}}},Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("商户管理")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/store/storeList"}}},[e._v("商户列表")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/store/storeChannels"}}},[e._v("商户通道")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:e.placeholder},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[a("el-select",{staticClass:"sel-placeholder",staticStyle:{width:"130px"},attrs:{slot:"prepend"},on:{change:e.searchFieldChange},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[a("el-option",{attrs:{label:"通道ID",value:"extStoreId"}}),e._v(" "),a("el-option",{attrs:{label:"通道名称",value:"extStoreName"}}),e._v(" "),a("el-option",{attrs:{label:"通道类型",value:"paymentGateway"}}),e._v(" "),a("el-option",{attrs:{label:"末次使用时间",value:"updateDate"}})],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getChannels},slot:"append"},[e._v("查询")])],1),e._v(" "),"ADMIN"===e.userInfo.role?[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreateVisible=!0}}},[e._v("添加")])]:e._e()],2)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.channels,height:"680","default-sort":{prop:"updateDate",order:"descending"}},on:{"selection-change":e.tableSelectionChange}},[a("el-table-column",{attrs:{prop:"extStoreId",label:"通道ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"extStoreName",label:"通道名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"paymentGateway",label:"通道类型"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"updateDate",label:"末次使用时间"}}),e._v(" "),"ADMIN"===e.userInfo.role?[a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.removeChannel(t.$index,t.row)}}},[e._v("删除")])]}}])})]:e._e()],2),e._v(" "),a("el-dialog",{attrs:{title:"新增通道",center:"",visible:e.dialogCreateVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogCreateVisible=t},close:e.reset},model:{value:e.dialogCreateVisible,callback:function(t){e.dialogCreateVisible=t},expression:"dialogCreateVisible"}},[a("el-form",{ref:"create",attrs:{id:"#create",model:e.create,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"通道ID",prop:"extStoreId"}},[a("el-input",{model:{value:e.create.extStoreId,callback:function(t){e.$set(e.create,"extStoreId",t)},expression:"create.extStoreId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"通道名称",prop:"extStoreName"}},[a("el-input",{model:{value:e.create.extStoreName,callback:function(t){e.$set(e.create,"extStoreName",t)},expression:"create.extStoreName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"通道类型",prop:"paymentGateway"}},[a("el-select",{attrs:{placeholder:"请选择通道类型"},model:{value:e.create.paymentGateway,callback:function(t){e.$set(e.create,"paymentGateway",t)},expression:"create.paymentGateway"}},[a("el-option",{attrs:{label:"银商H5",value:"CHINAUMSH5"}}),e._v(" "),a("el-option",{attrs:{label:"银商APP",value:"CHINAUMSAPP"}})],1)],1),e._v(" "),"CHINAUMSH5"===e.create.paymentGateway||"CHINAUMSAPP"===e.create.paymentGateway?[a("el-form-item",{attrs:{label:"终端号",prop:"tid"}},[a("el-input",{model:{value:e.create.chinaUmsProps.tid,callback:function(t){e.$set(e.create.chinaUmsProps,"tid",t)},expression:"create.chinaUmsProps.tid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息源ID",prop:"msgSrcId"}},[a("el-input",{model:{value:e.create.chinaUmsProps.msgSrcId,callback:function(t){e.$set(e.create.chinaUmsProps,"msgSrcId",t)},expression:"create.chinaUmsProps.msgSrcId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息源",prop:"msgSrc"}},[a("el-input",{model:{value:e.create.chinaUmsProps.msgSrc,callback:function(t){e.$set(e.create.chinaUmsProps,"msgSrc",t)},expression:"create.chinaUmsProps.msgSrc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签名秘钥",prop:"signKey"}},[a("el-input",{model:{value:e.create.chinaUmsProps.signKey,callback:function(t){e.$set(e.create.chinaUmsProps,"signKey",t)},expression:"create.chinaUmsProps.signKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机构号",prop:"instMid"}},[a("el-input",{model:{value:e.create.chinaUmsProps.instMid,callback:function(t){e.$set(e.create.chinaUmsProps,"instMid",t)},expression:"create.chinaUmsProps.instMid"}})],1)]:e._e()],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogCreateVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.createLoading},on:{click:e.createChannel}},[e._v("确 定")])],1)],1),e._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":e.filter.currentPage,"page-sizes":[10,20,50,100],"page-size":e.filter.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRows},on:{"size-change":e.pageSizeChange,"current-change":e.pageCurrentChange}})],1)],1)},Et=[],Ut={render:Nt,staticRenderFns:Et},Vt=Ut,Tt=a("/Xao"),Dt=h,Gt=Tt(Rt,Vt,!1,Dt,null,null),Mt=Gt.exports,Ot={name:"请输入App名称",key:"请输入key",secret:"请输入secret"},$t={data:function(){return{userInfo:{id:"",account:"",name:""},apps:[],create:{name:""},rules:{name:[{required:!0,message:"请输入商户名称",trigger:"blur"}]},filter:{pageSize:10,currentPage:1,beginIndex:0,name:"",key:"",secret:""},totalRows:0,keywords:"",select:"name",loading:!0,selected:[],dialogCreateVisible:!1,createLoading:!1,placeholder:Ot.name}},mounted:function(){var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.userInfo.id=e.id,this.userInfo.account=e.account,this.userInfo.name=e.name),this.getApps()},methods:{tableSelectionChange:function(e){this.selected=e},searchFieldChange:function(e){this.select=e,this.placeholder=Ot[e],console.log("搜索字段： "+e+" ")},pageSizeChange:function(e){console.log("每页 "+e+" 条"),this.filter.pageSize=e,this.getApps()},pageCurrentChange:function(e){console.log("当前页: "+e),this.filter.currentPage=e,this.getApps()},reset:function(){this.$refs.create.resetFields()},getApps:function(){var e=this;this.loading=!0,this.$http.get("http://www.wfpay.xyz/xpay/admin/"+this.userInfo.id+"/apps").then(function(t){console.log(t.data.data),t.data.data&&(e.apps=t.data.data);var a=[];if(""!==e.keywords)for(var n=0,r=e.apps.length;n<r;n++){var l=new RegExp(e.keywords);e.apps[n][e.select].toString().match(l)&&a.push(e.apps[n])}else a=e.apps;e.totalRows=a.length,e.filter.beginIndex=(e.filter.currentPage-1)*e.filter.pageSize,e.apps=a.splice(e.filter.beginIndex,e.filter.pageSize),e.loading=!1,e.selected.splice(0,e.selected.length)})},createApp:function(){var e=this;this.$refs.create.validate(function(t){if(!t)return!1;e.createLoading=!0,e.$http.put("http://www.wfpay.xyz/xpay/admin/"+e.userInfo.id+"/apps",e.create).then(function(t){e.$message.success("创建用户成功！"),e.dialogCreateVisible=!1,e.createLoading=!1,e.reset(),e.getApps()}).catch(function(){e.$message.error("创建用户失败！"),e.reset(),e.createLoading=!1})})}}},Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("商户管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("App列表")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:e.placeholder},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[a("el-select",{staticClass:"sel-placeholder",staticStyle:{width:"130px"},attrs:{slot:"prepend"},on:{change:e.searchFieldChange},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[a("el-option",{attrs:{label:"App名称",value:"name"}}),e._v(" "),a("el-option",{attrs:{label:"key",value:"key"}}),e._v(" "),a("el-option",{attrs:{label:"secret",value:"secret"}})],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getApps},slot:"append"},[e._v("查询")])],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreateVisible=!0}}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.apps,height:"680"},on:{"selection-change":e.tableSelectionChange}},[a("el-table-column",{attrs:{prop:"name",label:"App名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"key",label:"key"}}),e._v(" "),a("el-table-column",{attrs:{prop:"secret",label:"secret"}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增App",center:"",visible:e.dialogCreateVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogCreateVisible=t},close:e.reset},model:{value:e.dialogCreateVisible,callback:function(t){e.dialogCreateVisible=t},expression:"dialogCreateVisible"}},[a("el-form",{ref:"create",attrs:{id:"#create",model:e.create,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"App名称",prop:"name"}},[a("el-input",{model:{value:e.create.name,callback:function(t){e.$set(e.create,"name",t)},expression:"create.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogCreateVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.createLoading},on:{click:e.createApp}},[e._v("确 定")])],1)],1),e._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":e.filter.currentPage,"page-sizes":[10,20,50,100],"page-size":e.filter.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRows},on:{"size-change":e.pageSizeChange,"current-change":e.pageCurrentChange}})],1)],1)},Lt=[],Jt={render:Ft,staticRenderFns:Lt},qt=Jt,Wt=a("/Xao"),Qt=f,Ht=Wt($t,qt,!1,Qt,null,null),Kt=(Ht.exports,{data:function(){return{userInfo:{id:"",account:"",name:"",role:""},formRecharge:{amount:"",channel:"",quota:0},rechargeInfo:[{name:"www",channelType:"王小虎"},{name:"www",channelType:"王小虎"}],filter:{pageSize:10,currentPage:1,beginIndex:0,name:"",bailPercentage:""},totalRows:0,DialogVisible:!1}},created:function(){var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.userInfo.id=e.id,this.userInfo.account=e.account,this.userInfo.name=e.name,this.userInfo.role=e.role)},mounted:function(){},methods:{pageSizeChange:function(e){console.log("每页 "+e+" 条"),this.filter.pageSize=e,this.getStores()},pageCurrentChange:function(e){console.log("当前页: "+e),this.filter.currentPage=e,this.getStores()},view:function(e){this.$refs.table.toggleRowExpansion(e)},recharge:function(e){this.DialogVisible=!0}}}),Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("域名报备")])],1)],1),e._v(" "),a("el-col",{staticClass:"warp-main",attrs:{span:24}},[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:e.placeholder},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[a("el-select",{staticClass:"sel-placeholder",staticStyle:{width:"130px"},attrs:{slot:"prepend"},on:{change:e.searchFieldChange},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[a("el-option",{attrs:{label:"商户ID",value:"id"}}),e._v(" "),a("el-option",{attrs:{label:"商户名称",value:"name"}}),e._v(" "),a("el-option",{attrs:{label:"域名",value:"domainName"}}),e._v(" "),a("el-option",{attrs:{label:"状态",value:"status"}})],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getStores},slot:"append"},[e._v("查询")])],1),e._v(" "),a("el-button",{attrs:{type:"info",plain:"",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreateVisible=!0}}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"info",plain:"",icon:"el-icon-plus"},on:{click:function(t){e.dialogCreateVisible=!0}}},[e._v("批量导入")])],1)],1),e._v(" "),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.rechargeInfo,height:"680"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"商户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商户名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"domainName",label:"域名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.view(t.row)}}},[e._v("修改\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.view(t.row)}}},[e._v("驳回\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.view(t.row)}}},[e._v("提交\n            ")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":e.filter.currentPage,"page-sizes":[10,20,50,100],"page-size":e.filter.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRows},on:{"size-change":e.pageSizeChange,"current-change":e.pageCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"充值",visible:e.DialogVisible,width:"35%",center:""},on:{"update:visible":function(t){e.DialogVisible=t}}},[a("el-form",{ref:"formRecharge",attrs:{model:e.formRecharge,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"充值金额"}},[a("el-input-number",{attrs:{min:100,step:100},model:{value:e.formRecharge.amount,callback:function(t){e.$set(e.formRecharge,"amount",t)},expression:"formRecharge.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付方式"}},[a("el-select",{attrs:{placeholder:"请选择支付方式"},model:{value:e.formRecharge.channel,callback:function(t){e.$set(e.formRecharge,"channel",t)},expression:"formRecharge.channel"}},[a("el-option",{attrs:{label:"支付宝",value:"ALIPAY"}}),e._v(" "),a("el-option",{attrs:{label:"微信",value:"WECHAT"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"}},[e._v("立即充值")])],1)],1)],1)],1)},Yt=[],Bt={render:Zt,staticRenderFns:Yt},Xt=Bt,jt=a("/Xao"),ea=b,ta=jt(Kt,Xt,!1,ea,null,null),aa=ta.exports,na={data:function(){return{originalData:[],successVal:0,pickerOptions:{shortcuts:[{text:"最近两天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-1728e5),e.$emit("pick",[a,t])}}]},pickerTime:"",userInfo:{id:"",account:"",name:"",role:""},storesInfo:{},orders:[],filter:{name:"",pageSize:10,currentPage:1,beginIndex:0},keywords:"",totalRows:0,loading:!0,filename:"",downloadLoading:!1}},mounted:function(){var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.userInfo.id=e.id,this.userInfo.account=e.account,this.userInfo.name=e.name,this.userInfo.role=e.role);var t=new Date,a=new Date;a.setTime(t.getTime()+864e5);var n=t.getFullYear()+"-"+this.zeroFill(t.getMonth()+1)+"-"+this.zeroFill(t.getDate()),r=a.getFullYear()+"-"+this.zeroFill(a.getMonth()+1)+"-"+this.zeroFill(a.getDate());this.pickerTime=[],this.pickerTime.push(n,r),this.storesInfo=JSON.parse(sessionStorage.getItem("storesInfo")),this.getOrders()},methods:{query:function(){var e=[];if(""!==this.keywords)for(var t=0,a=this.orders.length;t<a;t++){var n=new RegExp(this.keywords);console.log(this.orders[t].orderNo),this.orders[t].orderNo.toString().match(n)&&e.push(this.orders[t])}else e=this.orders;this.totalRows=e.length,this.orders=e},zeroFill:function(e){return e>=0&&e<=9?"0"+e:e},getSummaries:function(e){var t=e.columns,a=(e.data,this.originalData),n=0;a.map(function(e){"SUCCESS"===e.status&&(n+=e.totalFee)});var r=[];return t.forEach(function(e,t){if(0===t&&(r[t]="总计"),7===t){var l=a.map(function(t){return t[e.property]}),s=0;l.forEach(function(e){"SUCCESS"===e&&s++}),r[t]="成功 "+s+" 笔"}8===t&&(r[t]=n,r[t]+=" 元")}),r},pageSizeChange:function(e){console.log("每页 "+e+" 条"),this.filter.pageSize=e,this.getOrders()},pageCurrentChange:function(e){console.log("当前页: "+e),this.filter.currentPage=e,this.getOrders()},getOrders:function(){var e=this;if(this.pickerTime){this.loading=!0;var t=void 0;this.filter.name?(this.storesInfo.forEach(function(t){e.filter.name===t[1]&&(e.filter.name=t[0])}),t="http://www.wfpay.xyz/xpay/admin/"+this.userInfo.id+"/orders?storeId="+this.filter.name+"&startDate="+this.pickerTime[0]+"&endDate="+this.pickerTime[1]):t="http://www.wfpay.xyz/xpay/admin/"+this.userInfo.id+"/orders?startDate="+this.pickerTime[0]+"&endDate="+this.pickerTime[1],this.$http.get(t).then(function(t){0===e.originalData.length?e.originalData=e.originalData.concat(t.data.data):(e.originalData=[],e.originalData=e.originalData.concat(t.data.data));var a=t.data.data;a?(a.forEach(function(t){var a=t;e.storesInfo.forEach(function(e){a.storeId===e[0]&&(a.name=e[1])})}),e.totalRows=a.length,e.filter.beginIndex=10*(e.filter.currentPage-1),e.orders=a.splice(e.filter.beginIndex,e.filter.pageSize)):e.orders=[],e.loading=!1}).catch(function(){e.$message.error("未查询到有效订单 或 查询订单超过两天！"),e.loading=!1})}else this.$message.error("请选择查询日期")},handleDownload:function(){var e=this;this.downloadLoading=!0,a.e(0).then(function(){var t=a("iFss"),n=t.export_json_to_excel,r=["商户名称","storeChannelId","订单号","下单时间","卖家单号","支付方式","returnUrl","状态","金额"],l=["name","storeChannelId","orderNo","orderTime","sellerOrderNo","payChannel","returnUrl","status","totalFee"];console.log(e.originalData);var s=e.originalData;n(r,e.formatJson(l,s),e.filename),e.downloadLoading=!1}.bind(null,a)).catch(a.oe)},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})}}},ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("b",[e._v("首页")])]),e._v(" "),a("el-breadcrumb-item",[e._v("交易查询")])],1)],1),e._v(" "),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0"},attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-input",{staticStyle:{width:"30%","margin-right":"15px"},attrs:{placeholder:"请输入订单号"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[a("template",{slot:"prepend"},[e._v("订单号")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.query},slot:"append"},[e._v("查询")])],2),e._v(" "),"STORE"!==e.userInfo.role?[a("el-form-item",{attrs:{label:"商户名称"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择商户名称"},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}},e._l(e.storesInfo,function(e){return a("el-option",{key:e[2],attrs:{label:e[1],value:e[2]}})}))],1)]:e._e(),e._v(" "),a("el-form-item",{attrs:{label:"下单时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",align:"right",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.pickerTime,callback:function(t){e.pickerTime=t},expression:"pickerTime"}})],1)],1),e._v(" "),a("el-button",{attrs:{type:"info",icon:"el-icon-search"},on:{click:e.getOrders}},[e._v("查询")]),e._v(" "),a("el-form-item",[a("el-input",{staticStyle:{width:"240px","margin-left":"15px"},attrs:{placeholder:"请输入文件名(默认excel-list)","prefix-icon":"el-icon-document"},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",icon:"document",loading:e.downloadLoading},on:{click:e.handleDownload}},[e._v("导出excel")])],1)],2)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orders,height:"680","summary-method":e.getSummaries,"show-summary":"","default-sort":{prop:"orderTime",order:"descending"}}},[a("el-table-column",{attrs:{prop:"name",label:"商户名称"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"storeChannelId",label:"storeChannelId"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNo",sortable:"",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderTime",sortable:"",label:"下单时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sellerOrderNo",sortable:"",label:"卖家单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payChannel",label:"支付方式"}}),e._v(" "),a("el-table-column",{attrs:{prop:"returnUrl",label:"returnUrl"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalFee",sortable:"",label:"金额 （元）"}})],1),e._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":e.filter.currentPage,"page-sizes":[10,20,50,100],"page-size":e.filter.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalRows},on:{"size-change":e.pageSizeChange,"current-change":e.pageCurrentChange}})],1)],1)},la=[],sa={render:ra,staticRenderFns:la},oa=sa,ia=a("/Xao"),ca=v,pa=ia(na,oa,!1,ca,null,null),da=pa.exports,ua={},ma=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div")},ga=[],ha={render:ma,staticRenderFns:ga},fa=ha,ba=a("/Xao"),va=w,wa=ba(ua,fa,!1,va,null,null),ya=wa.exports,Ia=function(e){return a.e(1).then(function(){var t=[a("xJsL")];e.apply(null,t)}.bind(this)).catch(a.oe)};C.default.use(V.a);var Ca=new V.a({routes:[{path:"/login",name:"登录",component:Ia},{path:"/",name:"home",component:q,redirect:"/dashboard",leaf:!0,menuShow:!0,iconCls:"iconfont icon-home",children:[{path:"/dashboard",component:ee,name:"首页",menuShow:!0}]},{path:"/",component:q,meta:{role:["ADMIN","AGENT"]},iconCls:"iconfont icon-users1",leaf:!0,menuShow:!0,children:[{path:"/store/storeAdmins",component:vt,name:"商户管理",menuShow:!0},{path:"/store/storeDetails",component:zt,name:"商户详情"},{path:"/store/storeChannels",component:Mt,name:"商户通道"}]},{path:"/",component:q,meta:{role:"ADMIN"},iconCls:"iconfont icon-users",leaf:!0,menuShow:!0,children:[{path:"/agent/agentList",component:Je,name:"代理商管理",menuShow:!0}]},{path:"/",component:q,meta:{role:"ADMIN"},iconCls:"iconfont icon-home1",leaf:!0,menuShow:!0,children:[{path:"/store/domainName",component:aa,name:"域名报备",menuShow:!0}]},{path:"/",component:q,iconCls:"iconfont icon-home1",leaf:!0,menuShow:!0,children:[{path:"/orders",component:da,name:"交易查询",menuShow:!0}]},{path:"/",component:q,iconCls:"iconfont icon-users",leaf:!0,menuShow:!0,children:[{path:"/recharge/rechargeList",component:st,name:"充值查询",menuShow:!0}]},{path:"/",component:q,meta:{role:"ADMIN"},iconCls:"iconfont icon-leaf",leaf:!0,menuShow:!0,children:[{path:"/complain",component:ya,name:"投诉查询",menuShow:!0}]}]});Ca.beforeEach(function(e,t,a){if(e.path.startsWith("/login"))a();else{var n=Object(T.a)(),r=sessionStorage.getItem("access-user");n&&r?a():a({path:"/login"})}});var Sa=Ca,xa=a("hJiY"),_a=a.n(xa);a("ZxKG"),a("lf9d"),a("H/op");C.default.config.productionTip=!1,C.default.use(_a.a),C.default.prototype.$http=U.a,U.a.interceptors.request.use(function(e){return Object(T.a)()&&(e.headers.Access_token=Object(T.a)()),e},function(e){console.log(e),I.a.reject(e)}),new C.default({el:"#app",router:Sa,render:function(e){return e(N)}}).$mount("#app")},Nw5M:function(e,t){},TIfe:function(e,t,a){"use strict";function n(){return o.a.get(i)}function r(e){return o.a.set(i,e)}function l(){return o.a.remove(i)}t.a=n,t.c=r,t.b=l;var s=a("uAC3"),o=a.n(s),i="Access_token"},Xm3Z:function(e,t){},ZxKG:function(e,t){},bFqp:function(e,t){},lf9d:function(e,t){},"oqt+":function(e,t){},rJsN:function(e,t){},"tbI+":function(e,t){},"w+KE":function(e,t){},zXHg:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.760b6ec24c5b3bf991ef.js.map